# AI Productivity Hub - 产品需求文档 (PRD) v3.0

## 1. 文档概览

- **目标**：建立完整的用户体系，实现多设备配置同步、数据管理、可视化洞察及周报历史归档。

---

## 2. 核心功能描述

### 2.1 用户认证系统

- **注册/登录**：支持“手机号/邮箱 + 密码”及 GitHub OAuth 认证。
- **安全性**：采用 `bcrypt` 强哈希加密。

### 2.2 用户配置云同步

- **自动保存**：AI 供应商设置及 API Key 自动同步。

### 2.3 现代化日志搜索

- **全文检索**：Dashboard 支持对内容及标签的实时模糊匹配。

### 2.4 无压快记与 AI 自动聚合

- **聚合机制**：系统可手动或定时（每晚 18:00）通过 AI 聚类零散内容，生成日报。

### 2.5 数据洞察与周报归档 (Phase 3)

- **可视化看板**：接入 `recharts`，展示标签分布比例（PieChart）及 7 天产出活力趋势（BarChart）。
- **周报历史归档**：支持将生成的 AI 周报一键保存为快照，持久化存储。
- **高级导出**：提供周报 Markdown 格式的剪贴板复制。
- [x] 历史管理：支持查看详情、回溯旧报及删除记录。

### 2.6 全局搜索与待办事项专项 (V4.0)

- **全局搜索重构**：搜索框从看板内部提升至顶部导航栏，实现全应用一致的搜索体验及实时过滤。
- **仿苹果待办模块**：提供独立的“待办事项”视图，采用 Apple Reminders 风格 UI。支持：
  - **清单分类**：支持工作、学习、个人等多个列表。
  - **勾选联动**：待办事项勾选完成后，自动在 Dashboard 生成对应的完成日志。
  - **沉底逻辑**：已完成事项自动添加删除线并沉底，保持视野清爽。
  - **过期提醒**：未完成的过期待办在系统开启时自动弹窗警示，防止任务遗忘。

---

## 3. 技术架构

- **前端**：React + TypeScript + Tailwind + Recharts。
- **后端**：FastAPI + Pydantic + Supabase SDK。
- **数据库**：Supabase (PostgreSQL) + pg_trgm。
